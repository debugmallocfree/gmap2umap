<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8"><title>POI ë³€í™˜ê¸°</title><style>
body { font-family: 'Malgun Gothic', sans-serif; max-width: 800px; margin: 20px auto; 
padding: 20px; background-color: #f5f5f5; }
.container { background: white; padding: 25px; border-radius: 8px; 
box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
.input-group { display: flex; flex-direction: column; gap: 10px; margin-bottom: 20px; } 
input { padding: 12px; border: 1px solid #ddd; border-radius: 4px; font-size: 14px; }
button { padding: 12px 20px; background: #4285F4; color: white; border: none; 
border-radius: 4px; cursor: pointer; font-weight: bold; }
textarea { width: 100%; height: 300px; padding: 12px; font-family: monospace; 
border: 1px solid #ccc; box-sizing: border-box; }
.note { font-size: 0.85em; color: #d93025; margin-bottom: 10px; }
</style>
  </head>
  <body>
    <br>â–¼ ì—¬ëŸ¬ êµ¬ê¸€ë§µ URLë“¤ì„ ì—°ì†í•´ì„œ ì…ë ¥í•˜ë©´, í•œë²ˆì— ë§ì€ ì¥ì†Œë¥¼ UMAPì— ì…ë ¥ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
    <div class="container"><h2>ğŸ“ êµ¬ê¸€ ì§€ë„ POI to CSV</h2>
<p class="note">â€» ì£¼ì†Œì°½ì˜ ì „ì²´ URLê³¼ ë©”ëª¨ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.</p>
<div class="input-group">
<input type="text" id="urlInput" placeholder="êµ¬ê¸€ ì§€ë„ URLì„ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”...">
<input type="text" id="memoInput" placeholder="ì—¬ê¸°ì— ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒ ì‚¬í•­)">
<button onclick="convertUrl()">ë³€í™˜ ë° ì¶”ê°€</button></div>
<textarea id="csvResult">name,lat,lon,description</textarea>
<div style="margin-top:15px; display:flex; gap:10px;">
<button onclick="copyToClipboard()" style="background:#34a853;">CSV ë³µì‚¬</button>
<button onclick="clearCsv()" style="background:#ea4335;">ì´ˆê¸°í™”</button></div></div>
<script>
function convertUrl() {
  const v = document.getElementById('urlInput'), m = document.getElementById('memoInput');
  const r = document.getElementById('csvResult'), u = v.value.trim();
  if (!u) return alert("URLì„ ì…ë ¥í•´ì£¼ì„¸ìš”!");
  try {
    const nM = u.match(/\/place\/([^\/]+)/);
    let n = nM ? decodeURIComponent(nM[1].replace(/\+/g, ' ')) : "ì•Œìˆ˜ì—†ìŒ", lt = "", ln = "";
    const cA = u.match(/!3d([-0-9.]+)!4d([-0-9.]+)/), cB = u.match(/@([-0-9.]+),([-0-9.]+)/);
    if (cA) { lt = cA[1]; ln = cA[2]; } else if (cB) { lt = cB[1]; ln = cB[2]; }
    const iM = u.match(/!1s(0x[0-9a-fA-F]+):(0x[0-9a-fA-F]+)/); let d = m.value.trim();
    if (iM) { try { let cid = BigInt(iM[2]).toString();
      d += (d ? "<br>" : "") + "https://maps.google.com/?cid=" + cid;
    } catch (e) { d += (d ? "<br>" : "") + "CIDë³€í™˜ì‹¤íŒ¨"; } }
    r.value += `\n"${n}",${lt},${ln},"${d}"`; v.value = ""; m.value = ""; v.focus();
  } catch (e) { alert("ì˜¤ë¥˜ ë°œìƒ! URLì„ í™•ì¸í•˜ì„¸ìš”."); }
}
function copyToClipboard() { const r = document.getElementById('csvResult'); r.select(); 
document.execCommand('copy'); alert("ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤."); }
function clearCsv() { if(confirm("ì´ˆê¸°í™”?")) 
document.getElementById('csvResult').value = "name,lat,lon,description"; }
</script>
  <p>
<b><b><font color=blue>[umapì— importí•˜ëŠ” ë°©ë²•]</font></b><br>
1) [Import] ì•„ì´ì½˜ í´ë¦­<br>
2) CSVë‚´ìš© ë¶™ì—¬ë„£ê¸° -> 'CSV'í¬ë©§ì„ íƒ -> ì¶”ê°€í•  ë ˆì´ì–´ ì„ íƒ (ê¸°ì¡´ ë˜ëŠ” ì‹ ê·œ ì„ íƒ) -> [Import Data]ë²„íŠ¼<br>
2) Markerê°€ ì˜ ì¶”ê°€ëœê²ƒ í™•ì¸ í›„ -> [Save] ë²„íŠ¼<br>
<img src="umap_import.png" width=640 border=1>
</body>
</html>
